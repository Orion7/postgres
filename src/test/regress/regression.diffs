*** /home/orion/postgres/src/test/regress/expected/create_index.out	2014-11-21 01:48:04.319414000 +0300
--- /home/orion/postgres/src/test/regress/results/create_index.out	2015-01-27 13:49:58.812178966 +0300
***************
*** 1697,1713 ****
  SET enable_indexscan = OFF;
  SET enable_bitmapscan = ON;
  CREATE INDEX intarrayidx ON array_index_op_test USING gin (i);
  explain (costs off)
  SELECT * FROM array_index_op_test WHERE i @> '{32}' ORDER BY seqno;
!                      QUERY PLAN                     
! ----------------------------------------------------
   Sort
     Sort Key: seqno
!    ->  Bitmap Heap Scan on array_index_op_test
!          Recheck Cond: (i @> '{32}'::integer[])
!          ->  Bitmap Index Scan on intarrayidx
!                Index Cond: (i @> '{32}'::integer[])
! (6 rows)
  
  SELECT * FROM array_index_op_test WHERE i @> '{32}' ORDER BY seqno;
   seqno |                i                |                                                                 t                                                                  
--- 1697,1712 ----
  SET enable_indexscan = OFF;
  SET enable_bitmapscan = ON;
  CREATE INDEX intarrayidx ON array_index_op_test USING gin (i);
+ ERROR:  out of shared memory
  explain (costs off)
  SELECT * FROM array_index_op_test WHERE i @> '{32}' ORDER BY seqno;
!                 QUERY PLAN                
! ------------------------------------------
   Sort
     Sort Key: seqno
!    ->  Seq Scan on array_index_op_test
!          Filter: (i @> '{32}'::integer[])
! (4 rows)
  
  SELECT * FROM array_index_op_test WHERE i @> '{32}' ORDER BY seqno;
   seqno |                i                |                                                                 t                                                                  
***************
*** 1943,1959 ****
  (1 row)
  
  CREATE INDEX textarrayidx ON array_index_op_test USING gin (t);
  explain (costs off)
  SELECT * FROM array_index_op_test WHERE t @> '{AAAAAAAA72908}' ORDER BY seqno;
!                          QUERY PLAN                         
! ------------------------------------------------------------
   Sort
     Sort Key: seqno
!    ->  Bitmap Heap Scan on array_index_op_test
!          Recheck Cond: (t @> '{AAAAAAAA72908}'::text[])
!          ->  Bitmap Index Scan on textarrayidx
!                Index Cond: (t @> '{AAAAAAAA72908}'::text[])
! (6 rows)
  
  SELECT * FROM array_index_op_test WHERE t @> '{AAAAAAAA72908}' ORDER BY seqno;
   seqno |           i           |                                                                     t                                                                      
--- 1942,1957 ----
  (1 row)
  
  CREATE INDEX textarrayidx ON array_index_op_test USING gin (t);
+ ERROR:  out of shared memory
  explain (costs off)
  SELECT * FROM array_index_op_test WHERE t @> '{AAAAAAAA72908}' ORDER BY seqno;
!                     QUERY PLAN                    
! --------------------------------------------------
   Sort
     Sort Key: seqno
!    ->  Seq Scan on array_index_op_test
!          Filter: (t @> '{AAAAAAAA72908}'::text[])
! (4 rows)
  
  SELECT * FROM array_index_op_test WHERE t @> '{AAAAAAAA72908}' ORDER BY seqno;
   seqno |           i           |                                                                     t                                                                      
***************
*** 2146,2152 ****
--- 2144,2152 ----
  
  -- And try it with a multicolumn GIN index
  DROP INDEX intarrayidx, textarrayidx;
+ ERROR:  index "intarrayidx" does not exist
  CREATE INDEX botharrayidx ON array_index_op_test USING gin (i, t);
+ ERROR:  out of shared memory
  SELECT * FROM array_index_op_test WHERE i @> '{32}' ORDER BY seqno;
   seqno |                i                |                                                                 t                                                                  
  -------+---------------------------------+------------------------------------------------------------------------------------------------------------------------------------
***************
*** 2233,2238 ****
--- 2233,2239 ----
  CREATE TABLE array_gin_test (a int[]);
  INSERT INTO array_gin_test SELECT ARRAY[1, g%5, g] FROM generate_series(1, 10000) g;
  CREATE INDEX array_gin_test_idx ON array_gin_test USING gin (a);
+ ERROR:  out of shared memory
  SELECT COUNT(*) FROM array_gin_test WHERE a @> '{2}';
   count 
  -------
***************
*** 2245,2258 ****
  --
  CREATE INDEX gin_relopts_test ON array_index_op_test USING gin (i)
    WITH (FASTUPDATE=on, GIN_PENDING_LIST_LIMIT=128);
  \d+ gin_relopts_test
-      Index "public.gin_relopts_test"
-  Column |  Type   | Definition | Storage 
- --------+---------+------------+---------
-  i      | integer | i          | plain
- gin, for table "public.array_index_op_test"
- Options: fastupdate=on, gin_pending_list_limit=128
- 
  --
  -- HASH
  --
--- 2246,2253 ----
  --
  CREATE INDEX gin_relopts_test ON array_index_op_test USING gin (i)
    WITH (FASTUPDATE=on, GIN_PENDING_LIST_LIMIT=128);
+ ERROR:  out of shared memory
  \d+ gin_relopts_test
  --
  -- HASH
  --

======================================================================

*** /home/orion/postgres/src/test/regress/expected/sanity_check.out	2014-11-21 01:48:04.355431000 +0300
--- /home/orion/postgres/src/test/regress/results/sanity_check.out	2015-01-27 13:50:00.460178914 +0300
***************
*** 15,21 ****
  a_star|f
  abstime_tbl|f
  aggtest|f
! array_index_op_test|t
  array_op_test|f
  b|f
  b_star|f
--- 15,21 ----
  a_star|f
  abstime_tbl|f
  aggtest|f
! array_index_op_test|f
  array_op_test|f
  b|f
  b_star|f

======================================================================

*** /home/orion/postgres/src/test/regress/expected/gin.out	2014-11-21 01:48:04.323416000 +0300
--- /home/orion/postgres/src/test/regress/results/gin.out	2015-01-27 13:50:05.864178742 +0300
***************
*** 6,11 ****
--- 6,12 ----
  -- Create and populate a test table with a GIN index.
  create table gin_test_tbl(i int4[]);
  create index gin_test_idx on gin_test_tbl using gin (i) with (fastupdate = on);
+ ERROR:  out of shared memory
  insert into gin_test_tbl select array[1, 2, g] from generate_series(1, 20000) g;
  insert into gin_test_tbl select array[1, 3, g] from generate_series(1, 1000) g;
  vacuum gin_test_tbl; -- flush the fastupdate buffers
***************
*** 17,22 ****
--- 18,24 ----
  -- fastupdate, we get more churn in the GIN data leaf pages, and exercise the
  -- recompression codepaths.
  alter index gin_test_idx set (fastupdate = off);
+ ERROR:  relation "gin_test_idx" does not exist
  insert into gin_test_tbl select array[1, 2, g] from generate_series(1, 1000) g;
  insert into gin_test_tbl select array[1, 3, g] from generate_series(1, 1000) g;
  delete from gin_test_tbl where i @> array[2];

======================================================================

*** /home/orion/postgres/src/test/regress/expected/tsearch.out	2014-11-21 01:48:04.363435000 +0300
--- /home/orion/postgres/src/test/regress/results/tsearch.out	2015-01-27 13:50:10.208178603 +0300
***************
*** 151,156 ****
--- 151,157 ----
  RESET enable_seqscan;
  DROP INDEX wowidx;
  CREATE INDEX wowidx ON test_tsvector USING gin (a);
+ ERROR:  out of shared memory
  SET enable_seqscan=OFF;
  SELECT count(*) FROM test_tsvector WHERE a @@ 'wr|qh';
   count 
***************
*** 1095,1100 ****
--- 1096,1102 ----
  -- test finding items in GIN's pending list
  create temp table pendtest (ts tsvector);
  create index pendtest_idx on pendtest using gin(ts);
+ ERROR:  out of shared memory
  insert into pendtest values (to_tsvector('Lore ipsam'));
  insert into pendtest values (to_tsvector('Lore ipsum'));
  select * from pendtest where 'ipsu:*'::tsquery @@ ts;

======================================================================

*** /home/orion/postgres/src/test/regress/expected/jsonb.out	2014-11-21 01:48:04.323416000 +0300
--- /home/orion/postgres/src/test/regress/results/jsonb.out	2015-01-27 13:50:10.212178603 +0300
***************
*** 1888,1893 ****
--- 1888,1894 ----
  (1 row)
  
  CREATE INDEX jidx ON testjsonb USING gin (j);
+ ERROR:  out of shared memory
  SET enable_seqscan = off;
  SELECT count(*) FROM testjsonb WHERE j @> '{"wait":null}';
   count 
***************
*** 1964,1969 ****
--- 1965,1971 ----
  
  -- array exists - array elements should behave as keys (for GIN index scans too)
  CREATE INDEX jidx_array ON testjsonb USING gin((j->'array'));
+ ERROR:  out of shared memory
  SELECT count(*) from testjsonb  WHERE j->'array' ? 'bar';
   count 
  -------
***************
*** 2055,2061 ****
--- 2057,2065 ----
  RESET enable_hashagg;
  RESET enable_sort;
  DROP INDEX jidx;
+ ERROR:  index "jidx" does not exist
  DROP INDEX jidx_array;
+ ERROR:  index "jidx_array" does not exist
  -- btree
  CREATE INDEX jidx ON testjsonb USING btree (j);
  SET enable_seqscan = off;
***************
*** 2074,2079 ****
--- 2078,2084 ----
  --gin path opclass
  DROP INDEX jidx;
  CREATE INDEX jidx ON testjsonb USING gin (j jsonb_path_ops);
+ ERROR:  out of shared memory
  SET enable_seqscan = off;
  SELECT count(*) FROM testjsonb WHERE j @> '{"wait":null}';
   count 
***************
*** 2114,2119 ****
--- 2119,2125 ----
  
  RESET enable_seqscan;
  DROP INDEX jidx;
+ ERROR:  index "jidx" does not exist
  -- nested tests
  SELECT '{"ff":{"a":12,"b":16}}'::jsonb;
             jsonb            

======================================================================

